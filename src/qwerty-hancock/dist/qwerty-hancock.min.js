/* Qwerty Hancock 0.10.0 (c) 2012-23 Stuart Memo */
!function(){function s(e){return Math.floor((v.width-e)/e)}function i(e){var t=3===e.length?e.charAt(2):e.charAt(1);return e=(e=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"].indexOf(e.slice(0,-1)))<3?e+12+12*(t-1)+1:e+12*(t-1)+1,440*Math.pow(2,(e-49)/12)}function l(e){null!==e&&(e.style.backgroundColor=v.activeColour)}function r(e){null!==e&&("white"===e.getAttribute("data-note-type")?e.style.backgroundColor=v.whiteKeyColour:e.style.backgroundColor=v.blackKeyColour)}function n(e){for(var t=0,o=e.length,n=[],i=0;i<o;i++)if(v.startNote.charAt(0)===e[i]){t=i;break}for(i=0;i<o;i++)n[i]=o-1<i+t?e[i+t-o]:e[i+t];return n}function t(e){var t,o;e.el.style.display="inline-block",e.el.style["-webkit-user-select"]="none","white"===e.colour?((o=e).el.style.backgroundColor=v.whiteKeyColour,o.el.style.border="1px solid "+v.borderColour,o.el.style.borderRight=0,o.el.style.height=v.height+"px",o.el.style.width=o.width+"px",o.el.style.borderRadius="0 0 5px 5px",o.el.style.position="relative",o.el.style.zIndex="1",o.el.style.boxSizing="content-box",o.noteNumber===d()-1&&(o.el.style.border="1px solid "+v.borderColour)):(o=e,e=s(d()),t=Math.floor(e/2),o.el.style.backgroundColor=v.blackKeyColour,o.el.style.border="1px solid "+v.borderColour,o.el.style.position="absolute",o.el.style.left=Math.floor((e+1)*(o.noteNumber+1)-t/2)+"px",o.el.style.width=t+"px",o.el.style.height=v.height/1.5+"px",o.el.style.borderRadius="0 0 3px 3px",o.el.style.zIndex="2",o.el.style.boxSizing="content-box")}function a(e){function t(e){e.style.cursor="default",e.style.fontSize="0px",e.style.height=v.height+"px",e.style.padding=0,e.style.position="relative",e.style.listStyle="none",e.style.margin=v.margin,e.style["-webkit-user-select"]="none",e.style.boxSizing="content-box"}t(e.container),t(e.el),e.el.style.width=e.totalWhiteKeys*(s(e.totalWhiteKeys)+1)+2+"px"}function o(e,t){"li"==e.tagName.toLowerCase()&&(g=!0,l(e),t(e.title,i(e.title)))}function u(e,t){"li"==e.tagName.toLowerCase()&&(g=!1,r(e),t(e.title,i(e.title)))}function c(e,t){g&&(r(e),t(e.title,i(e.title)))}function y(e){return e.el=document.createElement("li"),e.el.id=e.id,e.el.title=e.id,e.el.setAttribute("data-note-type",e.colour),t(e),e}function d(){return 7*v.octaves}function h(e){return b[e].replace("l",parseInt(v.keyOctave,10)+v.keyPressOffset).replace("u",(parseInt(v.keyOctave,10)+v.keyPressOffset+1).toString())}function f(e){return e.ctrlKey||e.metaKey||e.altKey}function e(e){return this.version="0.10.0",this.keyDown=function(){},this.keyUp=function(){},this.setKeyOctave=function(e){},this.getKeyOctave=function(){},this.keyOctaveUp=function(){},this.keyOctaveDown=function(){},this.getKeyMap=function(){},this.setKeyMap=function(e){},function(e){var t,e=e||{};v={id:e.id||"keyboard",octaves:e.octaves||3,width:e.width,height:e.height,margin:e.margin||0,startNote:e.startNote||"A3",whiteKeyColour:e.whiteKeyColour||"#fff",blackKeyColour:e.blackKeyColour||"#000",activeColour:e.activeColour||"yellow",borderColour:e.borderColour||"#000",keyboardLayout:e.keyboardLayout||"en",musicalTyping:!1!==e.musicalTyping},t=document.getElementById(v.id),void 0===v.width&&(v.width=t.offsetWidth),void 0===v.height&&(v.height=t.offsetHeight),v.startOctave=parseInt(v.startNote.charAt(1),10),v.keyOctave=e.keyOctave||v.startOctave,this.setKeyOctave=function(e){return v.keyOctave=e,v.keyOctave},this.getKeyOctave=function(){return v.keyOctave},this.keyOctaveUp=function(){return v.keyOctave++,v.keyOctave},this.keyOctaveDown=function(){return v.keyOctave--,v.keyOctave},this.getKeyMap=function(){return b},this.setKeyMap=function(e){return b=e},C(),m.call(this,t)}.call(this,e),this}var p=window,k="undefined"==typeof global?p:p.window,v={},g=!1,w={},b={65:"Cl",87:"C#l",83:"Dl",69:"D#l",68:"El",70:"Fl",84:"F#l",71:"Gl",89:"G#l",90:"G#l",72:"Al",85:"A#l",74:"Bl",75:"Cu",79:"C#u",76:"Du",80:"D#u",59:"Eu",186:"Eu",222:"Fu",221:"F#u",220:"Gu"},C=function(){var t,e={container:document.getElementById(v.id),el:document.createElement("ul"),whiteNotes:n(["C","D","E","F","G","A","B"]),notesWithSharps:n(["C","D","F","G","A"])},o=function(){for(var o,n=this,i=[],l=0,r=v.startOctave,a=d(),u=0;u<a;u++)u%this.whiteNotes.length==0&&(l=0),"C"===(bizarre_note_counter=this.whiteNotes[l])&&0!==u&&r++,o=y({colour:"white",octave:r,width:s(a),id:this.whiteNotes[l]+r,noteNumber:u}),i.push(o.el),u!==a-1&&this.notesWithSharps.forEach(function(e,t){e===n.whiteNotes[l]&&(o=y({colour:"black",octave:r,width:s(a)/2,id:n.whiteNotes[l]+"#"+r,noteNumber:u}),i.push(o.el))}),l++;return{keys:i,totalWhiteKeys:a}}.call(e);return e.keys=o.keys,e.totalWhiteKeys=o.totalWhiteKeys,o=e.whiteNotes,v.keyPressOffset="C"===o[0]?0:1,a(e),(t=e).keys.forEach(function(e){t.el.appendChild(e)}),e.container.querySelector("ul")?e.container.replaceChild(e.el,e.container.querySelector("ul")):e.container.appendChild(e.el),e},m=function(e){var n=this;v.musicalTyping&&(k.addEventListener("keydown",function(e){var t,o;f(e)||(t=e,o=n.keyDown,t.keyCode in w)||(w[t.keyCode]=!0,void 0===b[t.keyCode])||(o(o=h(t.keyCode),i(o)),l(document.getElementById(o)),0)||e.preventDefault()}),k.addEventListener("keyup",function(e){var t,o;f(e)||(t=e,o=n.keyUp,delete w[t.keyCode],void 0===b[t.keyCode])||(o(o=h(t.keyCode),i(o)),r(document.getElementById(o)),0)||e.preventDefault()})),e.addEventListener("mousedown",function(e){o(e.target,n.keyDown)}),e.addEventListener("mouseup",function(e){u(e.target,n.keyUp)}),e.addEventListener("mouseover",function(e){var t;e=e.target,t=n.keyDown,g&&(l(e),t(e.title,i(e.title)))}),e.addEventListener("mouseout",function(e){c(e.target,n.keyUp)}),"ontouchstart"in document.documentElement&&(e.addEventListener("touchstart",function(e){o(e.target,n.keyDown)}),e.addEventListener("touchend",function(e){u(e.target,n.keyUp)}),e.addEventListener("touchleave",function(e){c(e.target,n.keyUp)}),e.addEventListener("touchcancel",function(e){c(e.target,n.keyUp)}))};"undefined"!=typeof exports?(exports="undefined"!=typeof module&&module.exports?module.exports=e:exports).QwertyHancock=e:p.QwertyHancock=e}();